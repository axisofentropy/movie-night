# https://github.com/bluenviron/mediamtx/blob/main/mediamtx.yml

metrics: yes

# API configuration
api: yes
apiAddress: :9997
# Allow write access from the private Docker network
authInternalUsers:
  # Username. 'any' means any user, including anonymous ones.
- user: admin
  # Password. Not used in case of 'any' user.
  pass:
  # IPs or networks allowed to use this user. An empty list means any IP.
  ips: [127.0.0.1/32, 172.16.0.0/12, 192.168.0.0/16]
  # List of permissions.
  permissions:
    # Available actions are: publish, read, playback, api, metrics, pprof.
  - action: publish
    # Paths can be set to further restrict access to a specific path.
    # An empty path means any path.
    # Regular expressions can be used by using a tilde as prefix.
    path:
  - action: read
    path:
  - action: playback
    path:
  - action: api
    path:
  - action: metrics
    path:
  - action: pprof
    path:
# Allow anonymous users to read streams.
- user: any
  pass:
  ips: []
  permissions:
    - action: read
      path:
    - action: playback
      path: 

# Web server (HLS) configuration
hlsAddress: :443
hlsEncryption: yes
#hlsServerKey: /certs/privkey.pem
#hlsServerCert: /certs/fullchain.pem
hlsAlwaysRemux: yes
hlsVariant: fmp4
# These CORS headers are required by Chromecast
hlsAllowOrigin: '*'

# Enable publishing and reading streams with the RTSP protocol.
rtsp: yes
rtspAddress: :8554
rtspEncryption: "no"

# Default path settings
paths:
  all_others: